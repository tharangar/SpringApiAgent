# SpringApiAgent

## Table of Contents (Optional)

> If you're `README` has a lot of info, section headers might be nice.

- [Features](#features)
- [Installation](#installation)
- [Contributing](#contributing)
- [Support](#support)
- [License](#license)


---

## Features
- Rest full web services
- Basic Authentication
- Data retrive from database
- XML content as response
- Startup components - House keeping script

### Technical stack

- Thsi spring based Rest API program is consists of following features.
- Mevan build 
- Spring Rest API frame work
- Spring Basic Authentication
- Spring mvc Architecture
- Hibernate Data Object mapping framework
- JPA anotanation
- mysql database 


## Installation

- This spring mvc ,rest api project is build with maven . So any one can download it and build it localy and run it .

### Clone
- Install git first.
- Then clone the project

```shell
- git clone https://github.com/tharangar/SpringApiAgent.git
```

### Setup
- Create a database "rest" in your localdata base
- Create a user with privileges to this database username "rest" and password "rest". (https://www.digitalocean.com/community/tutorials/how-to-create-a-new-user-and-grant-permissions-in-mysql)
- CREATE USER 'rest'@'localhost' IDENTIFIED BY 'rest';
- GRANT ALL PRIVILEGES ON * . * TO 'rest'@'localhost';
- FLUSH PRIVILEGES;
- use the rest.sql database dump file for importing the database to your local machine.
- mysql -u rest -psomepassword rest < rest.sql
- Ex : mysql -u rest -prest rest < rest.sql

- Donload and install code vs editor
- Download and install maven first.
- Install tomcat
-  Ex : if you use mac and want to install tomcat 9 :#brew install tomcat@9
OR
https://www3.ntu.edu.sg/home/ehchua/programming/howto/MacUsers_HowTo.html

// Download apache tomcat latest version and extract it and coppy to /Application folder

tar xvf apache-tomcat-9.0.16.tar.gz 
cp -rf apache-tomcat-9.0.16 /Applications
// Rename the tomcat folder
'''cp -rf apache-tomcat-9.0.16 tomcat9'''
// Create a new user instead of root user to run tomcat
'''sudo chown -R nobody:nobody /Applications/tomcat9'''
'''cd /Applications/tomcat9
// to start the tomcat
sudo -u nobody ./bin/startup.sh
sudo -u nobody ./bin/catalina.sh run
sudo -u nobody ./bin/shutdown.sh

$ sudo -u nobody ./startup.sh       // No console message
$ sudo -u nobody ./catalina.sh run  // See console message

// To stop tomcat
$ sudo -u nobody ./shutdown.sh

// to change user access to manage APP interface
$sudo -u nobody nano ./conf/tomcat-users.xml

//add following part
<role rolename="manager-gui"/>
<user username="tomcat" password="tomcat" roles="manager-gui"/>

'''


- opens the code vs editor from project folder
- code .
- change to the cloned directory
- mvn compile
- mvn test
- mvn package
- Then target folder will be created and restCore.war can be found inside.
- Deploy it in local tomcat server

Or you can import as a maven project to your eclipse IDE.
After import the project build and run on tomcat web server.
At the startup occation of the project you will see the sout as "Hellow static content is running hear".
This is generated by StartupController class which works as the House keeper.
Everytime applicain run it will be triggered.

### Test
- Use a browser or postman tool to check the API.
- http://localhost:8080/restCore/API/um/login/fnh/fnh@123
- Wehn enter above URL it will ask a username and password first.
- this is due to Basic Authentication feature in the project.
- give bill as username and abc123 as password.
- Response should be {"login":"success"} and then change the fnh or fnh@123 in the url and you will see failed message.

## FAQ

- **How do we generate the model classes of a new database?**
    - You may use jpa plugins in eclipse to generate model classes (pojo) from a database.

---

## Support






---

## License

[![License](http://img.shields.io/:license-mit-blue.svg?style=flat-square)](http://badges.mit-license.org)

- **[MIT license](http://opensource.org/licenses/mit-license.php)**
- Copyright 2015 Â©


